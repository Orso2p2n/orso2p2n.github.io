{% assign tag_list = '' | split: '' %}

{% for post in all_posts %}
  {% for tag in post.tags %}
    {% assign tag_str = tag %}

    {% unless tag_list contains {{tag_str}} %}
      {% assign tag_list = tag_list | push: tag_str %}
    {% endunless %}

  {% endfor %}
{% endfor %}

{% if tag_list.size > 0 %}
  <div id="access-tags">
    <div class="panel-heading">Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      {% for tag_name in tag_list %}
        {% assign url = tag_name | slugify | url_encode | prepend: '/tags/' | append: '/' %}
        <a class="post-tag btn btn-outline-primary" href="{{ url | relative_url }}">{{ tag_name }}</a>
      {% endfor %}
    </div>
  </div>
{% endif %}
